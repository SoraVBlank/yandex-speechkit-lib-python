language: python
python:
- '3.6'
- '3.7'
- '3.8'
- '3.9'
env:
  global:
  - CODECOV_TOKEN='01b24c9c-9031-4562-9fcf-3fd891664b1d'
  - secure: AOAtqN9242wfDTpR6hAposS4+X8KXR3wIwnYKkZdNK1VqKZx3qz3gahZm0y6ya2wiSybyYNaAfNNu0Gp0inFDqpt4At7wrDbwnuEyC2Ox5RH38kzRLEodDC1pi+YBfM/xRmXTtFwKqJ7kgiCzS/0+/x/923aZF3JqJv20OgFli6iEvKI//crnBJ+IEVTxJrqt/pwpDiPdhYGjiud6ljBieXaOI7Z+MUND875P+XFS493u8AAvD0pxXKfQknotKUDT1SgG7wLqERJD3Yge3oQ7Oh4/OhjMTk25zJWwX1lsR2iWEVb8y9Y5jTuTyq8vBelRlC110QREZi1mRBzOz59ZSxZIyaS599EWMcjv9D/TCCQZk4BUYDgjWQQcVjeA/k7OqeKmpLSB68Wzid5tyEtp0Xj+qVjbsQUne0e0G+H4SYTO2Jc5rJaNcY/zGSYqdJGLmIEw8DuOkUUIwKsqq8nQwLhFu2XIdf1EwqFzmldsAT0q06hdVI+mNfV6uaSCt0m6EVJyKzfuSXzrJqr/1pNJNY+kxUJWtde5kjpTqMg/9xcqkWIY56QQ+g5KJDrEFZGm327abqAp/PaSH1L/7AvIpDSXfifi8MBfjgLRnww9rjSiCUCwya93XgXW3l0yNBjvLOvrofrdPyXUkNfOssSg9fM3rn9rqXpfgNN96mohqw=
  - secure: YNbum2gUGF1bP8Hx5Hh60qQa+a9IQv+exVyAvThBXgI156URGKmHZWHqrb7ECb7fQtRxCjH/a9B3X/n/bzHYKB5GAOKgOD7JSVki4Jy7IDM7P2b1DCrQQI7/DnhiWGLXdvRHLJulzibYUFOHlzDeIvdJ25+VVDFORMps8K5D+UsuSlCJhdwaRqfDDEv14nceSoZ/Dr0Sn+3RBaIVcHRk8gc1HWtQNpTDLrIeO0nNOj4s9NHoTO3kvqMOGh5zEGjc5szsulz0jwtWAftdGe+JLesNAUVuXDCJlHQtoYUCb0bYZuwUKgHiPx6ODo1seD2a3bUcnrIkZALxpN1Nxby461ffcBwx42oHCRmlwCyzY1NCq95NeH/6pYgCYuj1c1OY4GUq9d8O+7JGy+Cz5jb2CY7ZntVr+W1jlz1ZX6UN7Zf26+MjwF9HE1QTPyPG9rLYuVsO/O29S5ucOkzQxR1NnAYadzu6yNePt+bBG2fc3AvnIuktnqJ9dWzqw3IPSYu0hh+QimbswLNftxBzx9u3Hq5wNtKN3xYGNP0Pr0d2m12FJd0zsFyFoSNMXgJtttamedBfKO0I4Qbij+jpgMIdsbKFaN/dZD62mxLlc7mlDprb0e5XeE1WmJm1X1Aumq+nicquHX5+uatZdTSnuF1d61+BqCOMK15zkBDBJykBy/4=
  - secure: VQtQLmHA5YEy6s/irauAsLCVjE8FC8iPZ3+NJ1+r/cli+aQU3IkRVpgtIrOqEpkXrnLM18QHT9DnbAQqjIwnbBUCZ9CbH5DlZ7XbfUTAqz10PqibSz9cuCZFSeKTS+6X4Uz/0yKCHEOBPljSitch7fJJqsG74KjcdH8ZCJX5KRfbhjpsaj2QkQPTuM2cPfnr1Upt2W8h1gVwEyYb03fnfor8JxtcMPlJGyxwORsZN4fUmqruXKc1sNGEJwt/WgvI/MKahaEXALLUwzGpnqfsFa3kAhNw9kph2wC6KEmGBcXYD/AkzLroy8i8biDPaOp3NxQPZ/LWwWbKQStAm5/YBfC0Svec7+Hau4DgrKv+3bdZ+5kMB3d9gBB1YGdHhPl7zyzUxtkxIcQAjs4Jik68bWzQ+g0aig7c81j7LyY6IzQFAfWlN0NgpgbmfPFAzhkxW9w/tGnl2geCPRf0sihV16dvFmJFGOUxhmQL3hxor9p7LRdnjlwbITTsQ4E7CnBtNPhi2FbJYCWv461pzc8dFpyGN+D5Ld+73vRNJ9yh2oPP3ZTysZcoU5x75+Z6/OgCJM3vAHOhgh08LT5eG+rFuS2gDnS0AdZfIObAqW/dvSxFf0WZ50e0UBRaS2R/ctapA8cmFY4JuOtBnMmHveVnBYopbOnWlB3Q3oWZF7O4D24=
  - secure: n8dKrkbBhcJtx4NgVoZM+8b5XiZfF81VZgjgnOWKPAO3/rulI8xetyhNmX9QM8uUDAyhIDChbk5A2vb4BRNaWoR6SxAv83sLQ9+DePNBkLWIX4sG7qc6nkprq1MYw2CcHqE13JA2yd/lPJgJvj0VKx8wG7uBhnyccgGAhCdSY3ZWIGfAZ9gITvsTmma5uL98vyDZKVpw7Eo616JMAJeykBn9X6hNsuymLZdcrJukxA4k6nehTmXAQKP9ZbEEY5FOjS8cc8tgl35WBW9RfERCpMb22st0ErC+B7MtuY8MB1Q9rWYRkAR3O8pOZW+Rg8dqPEt5i2OeEmeDVhP7r48XqPddzfgMJaPXBYQojJqNQnEfh23ROFV5GbdMy448Cs9Xib1xTLX2HWAGFx0896GpWzIh+VVwkXuFxoY1eDB0qg+auVZzHBcydvM9Fs65G5UBlDqe5+eTNnZw+SDwfCihogWv95+sbx2jVbROn+6dsS3oJhB5aPE3zrjGbfE+P1HOP0BvwyDCYe1dp2iInwrOmKZNsE4jNTsYLbPH+geYXhZkTxPi/vwF4xJL1j13ExU6VD+GR7KX9AEufNGqWL/h0OZo6gdfgXMd+/fSHQle9YSl0wvKHWsQu19vmO8UDDQu2kuHehTY9Et2oBSi5TOuH/Rqklzh2y+1YDzbbjIKvx8=
  - secure: BVqjB2949yyVbhPZtjsH+FEEtKNMx5cRjaMbVSMO76El4vAP29iWy8V/L77Z1AqopoVs/MLpDxFS3K3aoruAWablhO2IJkUuxtOk01llm24ungy7GX6xthbHhquftdLtcGdtA+uf+TV1VAGf0mt0lMPxwvSJcYHP2lcPbwL9Oc3WVChLmKEGPWxu9MjHm0ZsnuFySvEYCXJKVfMj0daCfLBYo1S8KQ+C7wPUmk3XS3Dj3fzO/D3wH0Wrd7fxPeqhMD0cAh2xK8jEcoUo3DAbsjLG/vZ3zRQ8yVL20LZQWf0pwVloumenJ2y9bADWEdLUxOWs+SRdMSzFfpWXkD5sa8vWehUXnCleOaW2QTGse85Rckld1Iy7PW1yUsvgBRoz3W8DoE+rXpiLswrKd3ou86Lyk2A5kyN0ZAieP229TdLbAqxagZGzKzjNwqju9UUwF6Q6htUc4ZTyhgiVSdrmcpFcVip4Sh+EFDJlMtDC7bzvNfE8Ks4DFVJO38soYZn10eoG+1f/DFGeFvJxQTdzK7cZTRw5zHZ63NBpc1ycTcAHLgT+tewUtbQkh9VQ4x4QMOIC8Ms5MWupgfUaWyHQnLjwzZifgNgbdpMBeuQzcaDR8bstHWWqd1xRCzV3OcZeucbc7G4oAcZrMb7jiNxILX14fPxmeFdgCtb3/HmpXas=
  - secure: P99UwLtmBMMyf2uYtTYqrliB0nNllQ+mZF5rHWdWnsml8gBmgbrkqbj3hPdwJCGTMvO0XgrFvSIEp1grtjbEdmYp/Yt0b6sspKLe9e2zGRET9NgZAZfkJ212MxMuVcStcrP5H+JByt766xGvUXI+xpoIB1VnYKcC3sq4GLtvcgQUMH3AQAcv3Py3t2CWFESzTqsKuKO8W1Z3bX4zpqQH5b1VL6B2nnNjQAUDU45Iz5MFqk4HgYJ+qGgJQMeBFsDrdtIiXzELLP2mrGopmRIehcDGRJh82QIoyhnBYDL8ynx9D+nuZnvqtJp1nqy9aQhyzonmHstHK5u1J5BgkxyT/0wImk2b1Go9TkVYeh2T9j/qmxpZlhylx1lCwXjLlNlAgCls7Hu4tYiwxrbUTR6Y8ak45S7hwDgoJUaZMUFtN4SrV/kRJoYa11ozcgFRp26q/1M6W+kNm0kmGT/Mm8eEjLSc01xWe34gMQawXB1CdGeL0GYZTj2VHYr0D98fiVKFkNobFsoX+NkKR0acAixRdaf5uGnPSyU0dRwuG9foPsW9qtbsyNHsuerbKaoudpXIISPUAVtRVgGITh/dpkiwflpojtjLCJQix7ajvKkcPjATZ6gR0BR6qDa9gyX71pAjUXqOIhodBXVD+M+HZjrwh4v3JcC2SeBkQ9AyidsZhAc=
  - secure: UPF3CixbZ4FwRve+gdnfL9HtXTQ0MpwFOMU9O4TNWWiKjLB1TjFCDk7ma9Y5V7prEt86ku+EZtiefYENaMhR2V7VQredb/WtQhm7T1XfZt35zK0Pgf4zl60SYRdlVY6xTcz1TfFuGqJrAQmSEgnzHhP1zdOpx3npoT3kg5wGr1cMr5L6ugiBMapdAnaxHq3OxRKcspCkjIIKtjGLPNEGu+MkCUg9xbNey45zYRZCgNy5s265FGU3pgmAwkttYMmOvvdhVtvQFJfDHwQ8uG0dObhbouHv+Rcd0t4C4WwsO9I7VgHW3KrXyQZjTNa6qV0IRHdbj+KaDDqHnDtU5qqCKm1MujtS7nKNnXSfwmpA2Fz+lt1J3mCFKWhpzJs9A2xPC6d1K7DyRGiJ03NOYeWN67ET7eAHxPZkkEhEOZls45tPRTO9Xe8+BTel27ZfREgiHuqYy1tHhVO6J+/0yPKcLKARwYUh3+1/3Yjpk7dqzyMJ69ZP/plTFxNecDcwhQQOI8hBNI2AsStZABXP9D2vHOhkE0nVL9DKCmFBFetLVKXgLJ6Ih08LdNQ9mW4JRVIxr0tzMM1UquK6/OtQrWr/ZpGQ4bzjyoBYmsvLzWmdcvWfo/T0NBPWVnGiRTdHjDI3s3/954G8bPTMeWw8JNIjwPj67xirS51BaZQA8BOOW98=
before_install:
- openssl aes-256-cbc -K $encrypted_8171c61e233b_key -iv $encrypted_8171c61e233b_iv
  -in YANDEX_PRIVATE_KEY.txt.enc -out YANDEX_PRIVATE_KEY.txt -d
- python --version
- pip install -U pip
- pip install -r requirements.txt
- pip install codecov
install:
- pip install ".[test]" .
before_script:
- cd src
script:
- coverage run -m unittest discover && coverage report
after_success:
- codecov
